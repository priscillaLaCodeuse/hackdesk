{% extends 'layout.html' %}

<!-- BODY -->
{% block body %}
<div class="app dg">
    <!-- Main -->
    <main class="app-view dg">
        <!-- Menu -->
        {% include 'dashboard/partials/menu-app.html' %}
        <div class="app-container">
            <div class="df" style="justify-content: space-between">
                <h1>{{ project.name_project}}</h1>
                <a href="/projects">
                    <button class="button2">
                        <i class="bi bi-arrow-left"></i> Retour
                    </button>
                </a>
            </div>

            {% with messages = get_flashed_messages(with_categories=true) %} {% if
            messages %}
            <div id="flash-messages" class="container">
                {% for category, message in messages %}
                <div class="flash {{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
            {% endif %} {% endwith %}

            <form action="/edit-project/{{ project.id }}" class="table-list" method="post">

                <label for="name_project">Nom du projet : </label>

                <input required type="text" value="{{ project.name_project }}" name="name_project" />

                <label for="description">Description : </label>

                <textarea required name="description">
{{ project.description }}</textarea>

                <label for="url">URL : </label>
                <input required type="text" value="{{ project.url }}" name="url" />

                <label for="hosting_server">Serveur d'hébergement : </label>
                <input required type="text" value="{{ project.hosting_server }}" name="hosting_server" />

                <label for="status">Statut : </label>
                <select required name="status">
                    <option value="" disabled {% if not project.status %}selected{% endif %}>Statut</option>
                    <option value="En cours" {% if project.status=='En cours' %}selected{% endif %}>En cours</option>
                    <option value="En attente" {% if project.status=='En attente' %}selected{% endif %}>En attente
                    </option>
                    <option value="Terminé" {% if project.status=='Terminé' %}selected{% endif %}>Terminé</option>
                </select>

                <label for="hourly_rate">Tarif horaire : </label>
                <input required type="number" value="{{ project.hourly_rate }}" step="0.01" name="hourly_rate" />

                <button type="submit" class="button2">Sauvegarder</button>
            </form>
        </div>
    </main>
</div>
{% endblock %}